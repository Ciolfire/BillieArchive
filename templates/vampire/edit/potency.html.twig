{% trans_default_domain 'character' %}

{% extends "vampire/sheet/potency.html.twig" %}

{% block feeding %}
{% for index in 1..10 %}
  <div class="d-inline-block text-center">
    <div>
      {% if index < 3 %}
        <div style="width:14px;" role="button" data-bs-toggle="tooltip" data-bs-placement="top" title="{{ 'vampire.feeding.animal'|trans }}">
          <i class="fa-solid fa-xs fa-paw"></i>
        </div>
      {% elseif index < 7 %}
        <div style="width:14px;" role="button" data-bs-toggle="tooltip" data-bs-placement="top" title="{{ 'vampire.feeding.human'|trans }}">
          <i class="fa-solid fa-person"></i>
        </div>
      {% else %}
        <div style="width:14px;" role="button" data-bs-toggle="tooltip" data-bs-placement="top" title="{{ 'vampire.feeding.vampire'|trans }}">
          <i class="fa-solid fa-triangle-exclamation"></i>
        </div>
      {% endif %}
    </div>
  </div>
{% endfor %}
{% endblock %}

{% block controller %}data-controller="dot" role="group"{% endblock %}

{% block data %}data-name="{{ 'vampire.potency.name'|trans }}" data-type="{{ trait }}" data-dot-base-value="{{ current }}" data-dot-min-value="{{ current }}"{% endblock %}

{% block input %}
  <input class="{{ trait }}-value" value="{{ current }}" type="hidden" name="character[{{ trait }}]" data-dot-target="input" data-character--edit-target="dot">
{% endblock %}

{% block dot %}
<input type="checkbox" {% if value == 1 %}checked{% endif %} class="btn-check" id="{{ trait ~'-' ~ index }}" value="{{ index }}" autocomplete="off" data-dot-target="dot">
<label class="btn dot{% if value == 1 %} dot-locked{% else %} dot-selectable{% endif %}" for="{{ trait ~ '-' ~ index }}"
  data-action="click->dot#activate click->character--edit#pay"
  data-dot-value-param="{{ index }}"
  data-character--edit-value-param="{{ index }}"
  data-character--edit-min-param="{{ current }}"
  data-character--edit-name-param="{{ 'vampire.potency.name'|trans }}"
  data-character--edit-type-param="{{ trait }}">
</label>
{% endblock %}