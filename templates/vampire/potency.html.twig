{% trans_default_domain 'character' %}

<div class="row">
  <div class="col-12 text-center">
    <div class="block">
      <h3 class="text-center pt-1">{% include "icon.html.twig" with {'icon' : 'potency' } only %}{{ 'vampire.potency.name'|trans }}</h3>
      <div class="col-12 text-center">
        <div>
          {% set floor = 0 %}
          {% set trait = 'potency' %}
          {% set max = character.potency %}
          {% set vitae = character.vitae %}
          {% for index in 1..10 %}
            {% if index <= character.vitae %}
              {% set value = 1 %}
            {% else %}
              {% set value = 0 %}
            {% endif %}
            {% set current = index %}
            <div class="d-inline-block text-center">
              <div>
                <span role="button" data-bs-toggle="tooltip" data-bs-placement="top" title="{{ current }}">
                  <input type="checkbox" class="btn-check" id="{{ trait ~ '-' ~ current }}" value="{{ current }}" autocomplete="off" {% if current <= max %}checked{% endif %} disabled>
                  <label class="btn dot" for="{{ trait ~ '-' ~ current }}"></label>
                </span>
              </div>
            </div>
          {% endfor %}
          <div>
            <span class="d-inline-block align-text-top malus-box">{% include "icon.html.twig" with {'icon' : 'vitae' } only %}</span>
            {% for index in 1..character.maxVitae %}
              {% if index <= character.vitae %}
                {% set value = 1 %}
              {% else %}
                {% set value = 0 %}
              {% endif %}
              <svg class="trait-box" viewBox="0 0 100 100" role="button" data-controller="trait" data-trait-target="input" data-trait-id-value="{{ character.id }}" data-trait-type-value="vitae" data-trait-current-value="{{ value }}" data-action="click->trait#switch" class="text-center">
                <line class="trait-fill d-none on" x1="10" y1="90" x2="90" y2="10"/>
                <line class="trait-fill d-none on" x1="10" y1="10" x2="90" y2="90"/>
              </svg>
            {% endfor %}
          </div>
          <div>
            {# <span style="visibility:hidden;">{% include "icon.html.twig" with {'icon' : 'vitae' } only %}</span> #}
            {% for index in 0..character.maxVitae %}
            <span class="d-inline-block malus-box">
              <div role="button" data-bs-toggle="tooltip" data-bs-placement="top" {% if index <= 1 %}title="{{ 'vampire.starved'|trans }}">-2{% elseif index <= 4 %}title="{{ 'vampire.hungry'|trans }}">-1{% else %}>&nbsp;
              {% endif %}
              </div>
            </span>
            {% endfor %}
          </div>
        </div>
      </div>
    </div>
  </div>
</div>