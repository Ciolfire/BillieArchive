{% extends 'base.html.twig' %}

{% trans_default_domain 'app' %}

{% block body %}
<div class="container">
  <div class="row">
  <div class="block mt-3">
    {% if is_granted('ROLE_ST') %}
      <a class="float-end" href="{{ path('rule_edit', {'id': rule.id }) }}">{% include "icon.html.twig" with {'icon': 'edit', 'hasTips': 0} only %}</a>
    {% endif %}
    <h1>{{ rule.title }}</h1><span>
    <div>
      {{ rule.details|markdown_to_html }}
    </div>
    {% for subrule in rule.subrules %}
          {% if is_granted('ROLE_ST') %}
            <a class="float-end" href="{{ path('rule_edit', {'id': subrule.id }) }}">{% include "icon.html.twig" with {'icon': 'edit', 'hasTips': 0} only %}</a>
          {% endif %}
      <div>
        <h2>{{ subrule.title }}</h2>
      </div>
    <div>
      {{ subrule.details|markdown_to_html }}
    </div>
    {% endfor %}
    </div>
  </div>
</div>

{% include "back.html.twig" %}
{% endblock %}