{% trans_default_domain 'character' %}

<h2 class="text-center user-select-none">{% trans %}merit.title{% endtrans %}</h2>
<div class="position-relative row mb-2 ps-4">
  <div class="merit-hide" type="button" data-bs-toggle="collapse" data-bs-target="#meritsWrapper">
    <span class="position-sticky top-50 my-2">{% include "icon.html.twig" with {'icon' : 'hide' } only %}</span>
  </div>
  <p class="merit-filters mb-1 ms-5">
    <span class="btn btn-primary" data-action="click->character--merits#filter" data-character--merits-category-param="">{% include "icon.html.twig" with {'icon' : 'all' } only %}</span>
    <span class="btn btn-primary" data-action="click->character--merits#filter" data-character--merits-category-param="mental">{% include "icon.html.twig" with {'icon' : 'mental' } only %}</span>
    <span class="btn btn-primary" data-action="click->character--merits#filter" data-character--merits-category-param="physical">{% include "icon.html.twig" with {'icon' : 'physical' } only %}</span>
    <span class="btn btn-primary" data-action="click->character--merits#filter" data-character--merits-category-param="social">{% include "icon.html.twig" with {'icon' : 'social' } only %}</span>
  </p>
  <div id="meritsWrapper" class="row row-cols-1 row-cols-md-3 ps-5 mt-0 g-4 collapse show">
    {% block list %}
      <div class="w-100 user-select-none"><h3 class="text-center"><span class="title-block">{% trans %}merit.improve{% endtrans %}</span></h3></div>
      {% for chMerit in character.merits %}
        {% if chMerit.level < chMerit.merit.max %}
          {% include "character/edit/merit/card.html.twig" with {'merit': chMerit.merit} %}
        {% endif %}
      {% endfor %}
      <div class="w-100"></div>
      <div class="w-100 user-select-none"><h3 class="text-center"><span class="title-block">{% trans %}merit.new{% endtrans %}</h3></div>
      {% for merit in merits %}
        {% include "character/edit/merit/card.html.twig" %}
      {% endfor %}
    {% endblock %}
  </div>
</div>
